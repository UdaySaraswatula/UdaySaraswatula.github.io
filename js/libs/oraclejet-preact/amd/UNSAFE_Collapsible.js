define(["exports","preact/jsx-runtime","preact/hooks","./hooks/UNSAFE_useId","preact","css!./UNSAFE_Collapsible.css","./utils/UNSAFE_classNames","./UNSAFE_Flex","./UNSAFE_Divider","./index-c7f647a1","./index-72f6069b","./hooks/UNSAFE_usePress","./classNames-f11010a7","./Flex-e3a46a36","./Divider-b379301f","./hooks/UNSAFE_useAnimation","./useAnimation-19a01c68","./tslib.es6-24bf3861","./utils/UNSAFE_interpolations/dimensions","./utils/UNSAFE_arrayUtils","./utils/UNSAFE_size","./_curry1-f9717f1c","./utils/UNSAFE_mergeInterpolations","./_curry3-01167a7d","./_curry2-c4648b65","./_has-6f4fa2af","./utils/UNSAFE_interpolations/boxalignment","./keys-6231193b","./utils/UNSAFE_interpolations/flexbox","./flexbox-b6c222f9","./utils/UNSAFE_interpolations/flexitem","./flexitem-1405ebe5","./UNSAFE_Icon","./Icon-7291b5d0","./hooks/UNSAFE_useTooltip","./UNSAFE_Floating","./Floating-1e70bca1","preact/compat","./index-66b69d43","./hooks/UNSAFE_useUser","./UNSAFE_Environment","./UNSAFE_Layer","./utils/PRIVATE_floatingUtils","./utils/PRIVATE_refUtils","./hooks/UNSAFE_useOutsideClick","./hooks/UNSAFE_useHover","./hooks/UNSAFE_useToggle","./hooks/UNSAFE_useFocus","./hooks/UNSAFE_useTouch","./utils/UNSAFE_mergeProps","./hooks/UNSAFE_useTheme"],function(e,s,i,n,t,o,a,l,r,d,c,u,x,g,h,b,p,E,m,_,F,N,A,S,f,U,j,v,k,I,y,O,P,H,z,T,C,D,w,R,$,V,L,M,Y,q,B,G,J,K,Q){"use strict";const W=({isExpanded:e,iconPosition:i})=>{const n="start"===i&&e?c.SvgIcoChevronDown:d.CollapseIcon,t="end"===i&&e?c.SvgIcoChevronUp:c.SvgIcoChevronDown,o="start"===i?n:t;return s.jsx(o,{size:"6x"})},X="_1cfroyw",Z="z3e2et",ee="b4zjz1",se="m6dipz",ie="_1icl0th",ne="w22a7x",te="_51sriz",oe=({children:e,id:n,contentId:o,isDisabled:a,isExpanded:l,iconPosition:r,variant:d="basic",toggleHandler:c})=>{const b=x.classNames([X,"horizontal-rule"===d&&se,l&&"horizontal-rule"!==d&&Z,a&&ee]),p=x.classNames([ie,"end"===r&&te,"start"===r&&ne]),E=i.useCallback(e=>{c(e.target)},[c]),{pressProps:m}=u.usePress(E,{isDisabled:a,isRepeat:!1});return s.jsxs(s.Fragment,{children:[s.jsx("div",Object.assign({role:"button","aria-controls":o,"aria-expanded":l,id:n,tabIndex:0,className:b},m,{children:s.jsx(g.Flex,Object.assign({align:"center",justify:"start"===r?"start":"between"},{children:s.jsxs(t.Fragment,{children:["end"===r&&s.jsx("div",Object.assign({className:p},{children:e})),s.jsx(W,{iconPosition:r,isExpanded:l}),"start"===r&&s.jsx("div",Object.assign({className:p},{children:e}))]})}))})),"horizontal-rule"===d&&s.jsx(h.Divider,{})]})},ae=({children:e,id:n,isExpanded:t,onTransitionEnd:o})=>{const[a,l]=i.useState(t?"expanding":"unmounted"),r=i.useRef({overflowY:"hidden",maxHeight:t?"none":"0"});i.useEffect(()=>{("unmounted"!==a||t)&&l(t?"expanding":"collapsing")},[t,a]);const{nodeRef:d}=p.useAnimation(a,{animationStates:le,onAnimationEnd:({animationState:e})=>{"collapsing"===e&&l("unmounted"),null==o||o()}});return s.jsx("div",Object.assign({className:"tgy62r",ref:d,id:n,tabIndex:-1,style:r.current,"aria-hidden":!t||void 0},{children:"unmounted"!==a&&e}))},le={expanding:e=>({to:{maxHeight:`${e.scrollHeight}px`},options:{duration:400},end:{maxHeight:"none"}}),collapsing:e=>Object.assign(Object.assign({},"none"===e.style.maxHeight&&{from:{maxHeight:`${e.scrollHeight}px`}}),{to:{maxHeight:"0"},options:{duration:400}})};e.Collapsible=({id:e,header:t,children:o,isDisabled:a=!1,isExpanded:l=!1,iconPosition:r="start",variant:d="basic",onToggle:c,onTransitionEnd:u})=>{const x=i.useRef(null),g=n.useId(),h=`oj-collapsible-header-${g}`,b=`oj-collapsible-content-${g}`,p=i.useCallback(e=>{a||null==c||c({value:!l,target:e})},[a,c,l]),E=i.useCallback(()=>{null==u||u({value:l})},[u,l]);return s.jsxs("div",Object.assign({id:e,ref:x},{children:[s.jsx(oe,Object.assign({id:h,contentId:b,toggleHandler:p,isDisabled:a,isExpanded:l,iconPosition:r,variant:d},{children:t})),s.jsx(ae,Object.assign({id:b,isExpanded:l,onTransitionEnd:E},{children:o}))]}))},Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=UNSAFE_Collapsible.js.map

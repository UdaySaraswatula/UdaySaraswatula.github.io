define(["preact/jsx-runtime","@testing-library/preact","chai","../../UNSAFE_InputText","../../UNSAFE_NumberInputText","../../NumberInputText-05cc2405","preact","preact/compat","preact/hooks","../../hooks/UNSAFE_useClearIcon","../../hooks/UNSAFE_useToggle","../../hooks/UNSAFE_useFocusableTextField","../../tslib.es6-24bf3861","../../hooks/UNSAFE_useFocusWithin","../../useFocusWithin-35862d6c","../../hooks/UNSAFE_useFormContext","../../hooks/UNSAFE_useFormFieldContext","../../hooks/UNSAFE_useHover","../../hooks/UNSAFE_useLengthFilter","../../utils/UNSAFE_lengthFilter","../../hooks/UNSAFE_useTextField","../../hooks/UNSAFE_useId","../../UNSAFE_Label","../../utils/UNSAFE_classNames","../../classNames-f11010a7",'module',"../../hooks/UNSAFE_usePrefixSuffix","../../UNSAFE_PrefixSuffix","../../hooks/UNSAFE_useUser","../../UNSAFE_Environment","../../UNSAFE_Layer","../../UNSAFE_TextField","../../ReadonlyTextFieldInput-35c69ee9","../../hooks/UNSAFE_useTabbableMode","../../utils/UNSAFE_interpolations/text","../../keys-6231193b","../../_curry1-f9717f1c","../../_has-6f4fa2af","../../utils/UNSAFE_mergeInterpolations","../../_curry3-01167a7d","../../_curry2-c4648b65","../../FormControlUtils-9994f9d8","../../hooks/UNSAFE_useTranslationBundle","../../UNSAFE_LabelValueLayout","../../UNSAFE_Flex","../../Flex-e3a46a36","../../utils/UNSAFE_interpolations/dimensions","../../utils/UNSAFE_arrayUtils","../../utils/UNSAFE_size","../../utils/UNSAFE_interpolations/boxalignment","../../utils/UNSAFE_interpolations/flexbox","../../flexbox-b6c222f9","../../utils/UNSAFE_interpolations/flexitem","../../flexitem-1405ebe5","../../TextFieldInput-9e3759b7","../../hooks/UNSAFE_useTextFieldInputHandlers","../../utils/PRIVATE_clientHints","../../clientHints-33be1380","../../hooks/UNSAFE_useDebounce","../../UNSAFE_LiveRegion","../../UNSAFE_UserAssistance","../../InlineHelpSource-64823c0a","../../UNSAFE_ComponentMessage","../../ComponentMessage-998dad2a","../../PRIVATE_Message","../../utils/PRIVATE_timer","../../MessageCloseButton-80019999","../../UNSAFE_Button","../../Button-6236e6b9","../../UNSAFE_BaseButton","../../BaseButton-6b15cf96","../../hooks/UNSAFE_usePress","../../hooks/UNSAFE_useActive","../../utils/UNSAFE_mergeProps","../../index-c7f647a1","../../index-72f6069b","../../UNSAFE_Icon","../../Icon-7291b5d0","../../hooks/UNSAFE_useTooltip","../../UNSAFE_Floating","../../Floating-1e70bca1","../../index-66b69d43","../../utils/PRIVATE_floatingUtils","../../utils/PRIVATE_refUtils","../../hooks/UNSAFE_useOutsideClick","../../hooks/UNSAFE_useFocus","../../hooks/UNSAFE_useTouch","../../hooks/UNSAFE_useAnimation","../../useAnimation-19a01c68","../../hooks/UNSAFE_useTheme","../../MessageDetail-520bf217","../../MessageFormattingUtils-522eafdf","../../utils/UNSAFE_getLocale","../../utils/UNSAFE_stringUtils","../../stringUtils-b9c2724c","../../Message.types-7cf67e6b","../../MessageStartIcon-f0caac42","../../MessageSummary-1fe58d25","../../MessageTimestamp-0324ebac","../../MessageUtils-83d741c6","../../utils/UNSAFE_logger","../../utils/UNSAFE_soundUtils","../../MessagesManager-92a31926","../../PRIVATE_TransitionGroup","../../hooks/UNSAFE_useMessagesContext","../../UNSAFE_HiddenAccessible","../../HiddenAccessible-cc2e72c9","../../ComponentMessageContainer-329000c3","../../utils/UNSAFE_componentUtils","../../ClearIcon-af60dbf1","../../hooks/UNSAFE_useCurrentValueReducer","../../UNSAFE_Grid","../../utils/UNSAFE_interpolations/grid"],function(e,t,n,l,o,i,s,u,a,r,c,x,p,f,d,b,h,y,m,E,S,g,A,F,v,U,N,_,q,T,w,B,j,k,C,I,$,P,L,M,R,V,D,W,H,O,G,z,J,K,Q,X,Y,Z,ee,te,ne,le,oe,ie,se,ue,ae,re,ce,xe,pe,fe,de,be,he,ye,me,Ee,Se,ge,Ae,Fe,ve,Ue,Ne,_e,qe,Te,we,Be,je,ke,Ce,Ie,$e,Pe,Le,Me,Re,Ve,De,We,He,Oe,Ge,ze,Je,Ke,Qe,Xe,Ye,Ze,et,tt,nt,lt,ot){"use strict";const st=()=>{};const ut=[{name:"InputText",component:function({isDisabled:t,isReadonly:n,label:o,labelEdge:i,prefix:s,suffix:u,value:a}){return e.jsx(e.Fragment,{children:e.jsx(l.InputText,{isDisabled:t,isReadonly:n,label:o,labelEdge:i,onInput:st,prefix:s,suffix:u,value:a})})}},{name:"NumberInputText",component:function({isDisabled:t,isReadonly:n,label:l,labelEdge:o,prefix:s,suffix:u,value:a}){return e.jsx(e.Fragment,{children:e.jsx(i.NumberInputText,{isDisabled:t,isReadonly:n,label:l,labelEdge:o,onInput:st,prefix:s,suffix:u,value:a})})}}];describe("Form Controls - Prefix/Suffix",()=>{function l(e,t){const l=null==e?void 0:e.previousElementSibling;n.expect(null==l?void 0:l.tagName.toUpperCase).not.equal("LABEL"),n.expect(t).to.equal(1)}function o(e,t){const l=null==e?void 0:e.previousElementSibling;n.expect(null==l?void 0:l.tagName.toUpperCase()).equal("LABEL"),n.expect(t).to.equal(0)}function i(e,t){const l=null==e?void 0:e.nextElementSibling;n.expect(l).to.be.not.null,n.expect(t).to.equal(1)}function s(e,t){const l=null==e?void 0:e.nextElementSibling;n.expect(l).to.be.null,n.expect(t).to.equal(0)}ut.forEach(o=>it(`${o.name}: prefix is there with value`,()=>{const i="+234",{container:s,queryAllByText:u}=t.render(e.jsx(o.component,{prefix:i,value:"123412",label:"with prefix"})),a=s.querySelector("input");n.expect(a).not.to.be.null,l(a,u(i).length)})),ut.forEach(l=>it(`${l.name}: prefix is not there no value and no focus`,()=>{const i="+234",{container:s,queryAllByText:u}=t.render(e.jsx(l.component,{prefix:i,label:"no prefix"})),a=s.querySelector("input");n.expect(a).not.to.be.null,o(a,u(i).length)})),ut.forEach(o=>it(`${o.name}: prefix is there no value and focus`,()=>{const i="+234",{container:s,queryAllByText:u}=t.render(e.jsx(o.component,{prefix:i,label:"with prefix"})),a=s.querySelector("input");n.expect(a).not.to.be.null,t.act(()=>{null==a||a.focus()}),l(a,u(i).length)})),ut.forEach(l=>it(`${l.name}: prefix empty string is not there with value`,()=>{const{container:o}=t.render(e.jsx(l.component,{prefix:"",value:"123412",label:"no prefix"})),i=o.querySelector("input");n.expect(i).not.to.be.null;const s=null==i?void 0:i.previousElementSibling;n.expect(null==s?void 0:s.tagName.toUpperCase()).equal("LABEL")})),ut.forEach(l=>it(`${l.name}: suffix is there with value`,()=>{const{container:o,queryAllByText:s}=t.render(e.jsx(l.component,{suffix:"lbs",value:"123412",label:"with suffix"})),u=o.querySelector("input");n.expect(u).not.to.be.null,i(u,s("lbs").length)})),ut.forEach(l=>it(`${l.name}: suffix is not there no value and no focus`,()=>{const{container:o,queryAllByText:i}=t.render(e.jsx(l.component,{suffix:"lbs",label:"with suffix"})),u=o.querySelector("input");n.expect(u).not.to.be.null,s(u,i("lbs").length)})),ut.forEach(l=>it(`${l.name}: suffix is there no value and focus`,()=>{const{container:o,queryAllByText:s}=t.render(e.jsx(l.component,{suffix:"lbs",label:"with suffix"})),u=o.querySelector("input");n.expect(u).not.to.be.null,t.act(()=>{null==u||u.focus()}),i(u,s("lbs").length)})),ut.forEach(l=>it(`${l.name}: suffix empty string is not there with value`,()=>{const{container:o}=t.render(e.jsx(l.component,{suffix:"",value:"lbs",label:"with suffix"})),i=o.querySelector("input");n.expect(i).not.to.be.null;const s=null==i?void 0:i.nextElementSibling;n.expect(s).to.be.null})),ut.forEach(l=>it(`${l.name}: disabled, prefix is not there no value`,()=>{const i="+234",{container:s,queryAllByText:u}=t.render(e.jsx(l.component,{prefix:i,isDisabled:!0,label:"with suffix"})),a=s.querySelector("input");n.expect(a).not.to.be.null,o(a,u(i).length)})),ut.forEach(l=>it(`${l.name}: disabled with value (disabled is text-only)`,()=>{const{container:o,queryAllByText:i}=t.render(e.jsx(l.component,{suffix:"lbs",value:"123412",isDisabled:!0,label:"with suffix"})),u=o.querySelector("input");n.expect(u).not.to.be.null,s(u,i("lbs").length),n.expect(null==u?void 0:u.value).to.equal("123412 lbs")})),ut.forEach(l=>it(`${l.name}: disabled, suffix is not there no value and no focus`,()=>{const{container:o,queryAllByText:i}=t.render(e.jsx(l.component,{suffix:"lbs",isDisabled:!0,label:"with suffix"})),u=o.querySelector("input");n.expect(u).not.to.be.null,s(u,i("lbs").length)})),ut.forEach(l=>it(`${l.name}: readonly suffix text`,()=>{const o="123412",{container:i,queryByText:s}=t.render(e.jsx(l.component,{suffix:"lbs",value:o,isReadonly:!0,label:"with suffix"})),u=i.querySelector("input");n.expect(u).to.be.null;const a=s("123412 lbs");n.expect(a).not.to.be.null})),ut.forEach(l=>it(`${l.name}: readonly prefix text`,()=>{const o="+234",i="123412",{container:s,queryByText:u}=t.render(e.jsx(l.component,{prefix:o,value:i,isReadonly:!0,label:"with prefix"})),a=s.querySelector("input");n.expect(a).to.be.null;const r=u("+234 123412");n.expect(r).not.to.be.null})),ut.forEach(l=>it(`${l.name}: readonly prefix text no value`,()=>{const o="+234",{container:i,queryByText:s}=t.render(e.jsx(l.component,{prefix:o,isReadonly:!0,label:"with prefix"})),u=i.querySelector("input");n.expect(u).to.be.null;const a=s("+234");n.expect(a).to.be.null})),ut.forEach(l=>it(`${l.name}: prefix aria-labelledby, no label`,()=>{var o;const i="+234",{container:s,queryByText:u}=t.render(e.jsx(l.component,{prefix:i,value:"123412",labelEdge:"none",label:"with prefix"})),a=s.querySelector("input"),r=u(i);n.expect(r).not.to.be.null;const c=null===(o=null==r?void 0:r.parentElement)||void 0===o?void 0:o.id;n.expect(null==c?void 0:c.endsWith("prefix"),"prefixId ends with 'prefix'").to.be.true;const x=null==a?void 0:a.getAttribute("aria-labelledby");n.expect(x).not.to.be.null,n.expect(null==x?void 0:x.includes(c)).to.be.true,n.expect(x).to.equal(c)})),ut.forEach(l=>it(`${l.name}: suffix aria-labelledby, no label`,()=>{var o;const{container:i,queryByText:s}=t.render(e.jsx(l.component,{suffix:"lbs",value:"123412",labelEdge:"none",label:"with suffix"})),u=i.querySelector("input"),a=s("lbs");n.expect(a).not.to.be.null;const r=null===(o=null==a?void 0:a.parentElement)||void 0===o?void 0:o.id;n.expect(null==r?void 0:r.endsWith("suffix"),"suffixId ends with 'suffix'").to.be.true;const c=null==u?void 0:u.getAttribute("aria-labelledby");n.expect(c).not.to.be.null,n.expect(null==c?void 0:c.includes(r)).to.be.true})),ut.forEach(l=>it(`${l.name}: suffix aria-labelledby, has label`,()=>{var o;const{container:i,queryByText:s}=t.render(e.jsx(l.component,{suffix:"lbs",value:"123412",label:"Weight"})),u=i.querySelector("input"),a=s("lbs"),r=null===(o=null==a?void 0:a.parentElement)||void 0===o?void 0:o.id,c=(null==u?void 0:u.getAttribute("aria-labelledby")).indexOf(r);n.expect(c).to.not.equal(0),n.expect(c).to.not.equal(-1)})),ut.forEach(l=>it(`${l.name}: suffix aria-labelledby, has labelid`,()=>{const{container:o,queryByText:i}=t.render(e.jsx(l.component,{suffix:"lbs",value:"123412",label:"Weight"})),s=o.querySelector("input"),u=i("Weight");n.expect(null==u?void 0:u.tagName.toUpperCase()).equals("LABEL");const a=null==u?void 0:u.id;n.expect(a).to.not.be.undefined,n.expect(a).to.not.equal("");const r=(null==s?void 0:s.getAttribute("aria-labelledby")).indexOf(a);n.expect(r).to.equal(0)})),ut.forEach(l=>it(`${l.name}: no prefix/suffix, no aria-labelledby, has label`,()=>{const{container:o,queryByText:i}=t.render(e.jsx(l.component,{value:"123412",label:"Weight"})),s=o.querySelector("input"),u=i("Weight");n.expect(null==u?void 0:u.tagName.toUpperCase()).equals("LABEL");const a=null==u?void 0:u.id;n.expect(a).to.not.be.undefined,n.expect(a).to.not.equal("");const r=null==s?void 0:s.getAttribute("aria-labelledby");n.expect(r).to.be.null})),ut.forEach(l=>it(`${l.name}: prefix and suffix, aria-labelledby, no label`,()=>{var o,i;const{container:s,queryByText:u}=t.render(e.jsx(l.component,{prefix:"+++",suffix:"lbs",value:"123412",labelEdge:"none",label:"with prefix suffix"})),a=s.querySelector("input"),r=u("lbs"),c=null===(o=null==r?void 0:r.parentElement)||void 0===o?void 0:o.id,x=u("+++"),p=null===(i=null==x?void 0:x.parentElement)||void 0===i?void 0:i.id,f=null==a?void 0:a.getAttribute("aria-labelledby"),d=f.includes(c);n.expect(d).to.be.true;const b=f.includes(p);n.expect(b).to.be.true;const h=null==f?void 0:f.trim().split(/\s+/).length;n.expect(h).to.equal(2)})),afterEach(t.cleanup)}),"undefined"==typeof jest&&describe("Form Controls - Prefix/Suffix Color",()=>{ut.forEach(l=>it(`${l.name}: prefix color is same as input text`,()=>{const o="+234",{container:i,queryByText:s}=t.render(e.jsx(l.component,{prefix:o,value:"123412",label:"with prefix"})),u=i.querySelector("input"),a=window.getComputedStyle(s(o)).getPropertyValue("color"),r=window.getComputedStyle(u).getPropertyValue("color");n.expect(a).equals(r)})),ut.forEach(l=>it(`${l.name}: suffix color is same as input text`,()=>{const{container:o,queryByText:i}=t.render(e.jsx(l.component,{suffix:"lbs",value:"123412",label:"with suffix"})),s=o.querySelector("input"),u=window.getComputedStyle(i("lbs")).getPropertyValue("color"),a=window.getComputedStyle(s).getPropertyValue("color");n.expect(u).equals(a)})),ut.forEach(l=>it(`${l.name}: prefix color is not the same as input text when focused`,()=>{const o="+234",{container:i,queryByText:s}=t.render(e.jsx(l.component,{prefix:o,value:"123412",label:"with prefix"})),u=i.querySelector("input");t.act(()=>{null==u||u.focus()});const a=window.getComputedStyle(s(o)).getPropertyValue("color"),r=window.getComputedStyle(u).getPropertyValue("color");n.expect(a).equals(r)})),ut.forEach(l=>it(`${l.name}: suffix color is not the same as input text when focused`,()=>{const{container:o,queryByText:i}=t.render(e.jsx(l.component,{suffix:"lbs",value:"123412",label:"with suffix"})),s=o.querySelector("input");t.act(()=>{null==s||s.focus()});const u=window.getComputedStyle(i("lbs")).getPropertyValue("color"),a=window.getComputedStyle(s).getPropertyValue("color");n.expect(u).equals(a)})),afterEach(t.cleanup)})});
//# sourceMappingURL=FormControlPrefixSuffix.spec.js.map

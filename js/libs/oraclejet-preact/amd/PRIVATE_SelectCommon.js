define(["exports","preact/jsx-runtime","preact/hooks","css!./PRIVATE_SelectCommon.css","./UNSAFE_HighlightText","./PRIVATE_List","./UNSAFE_Flex","./UNSAFE_Skeleton","./utils/UNSAFE_logger","./Flex-e3a46a36","./HighlightText-f5e447be","./List-24031444","./Skeleton-65cc3876","./UNSAFE_Floating","./UNSAFE_Layer","./utils/UNSAFE_arrayUtils","./Floating-1e70bca1","./hooks/UNSAFE_usePress","./index-c7f647a1","./utils/UNSAFE_classNames","./classNames-f11010a7","./index-72f6069b","./hooks/UNSAFE_useFormFieldContext","./UNSAFE_UserAssistance","./hooks/UNSAFE_useTranslationBundle","./utils/PRIVATE_clientHints","./clientHints-33be1380","./utils/UNSAFE_mergeProps","./utils/UNSAFE_keys","./LoadMoreCollection-d53c66bf","./PRIVATE_Collection","./Collection-0700cc46","preact","./hooks/UNSAFE_useViewportIntersect","./PRIVATE_VirtualizedCollection","./VirtualizedCollection-8523118a","./hooks/UNSAFE_useTabbableMode","./UNSAFE_FocusTrap","./FocusTrap-5a3a8c7d","preact/compat","./utils/PRIVATE_tabbableUtils","./_curry1-f9717f1c","./_curry2-c4648b65","./_curry3-01167a7d","./hooks/UNSAFE_useId","./hooks/PRIVATE_useSelection","./hooks/PRIVATE_useCurrentKey","./hooks/PRIVATE_useCollectionFocusRing","./hooks/PRIVATE_useTabbableModeSet","./hooks/PRIVATE_useItemAction","./utils/PRIVATE_collectionUtils","./tslib.es6-24bf3861","./utils/UNSAFE_interpolations/dimensions","./utils/UNSAFE_size","./utils/UNSAFE_mergeInterpolations","./_has-6f4fa2af","./utils/UNSAFE_interpolations/borders","./utils/UNSAFE_interpolations/boxalignment","./keys-6231193b","./utils/UNSAFE_interpolations/flexbox","./flexbox-b6c222f9","./utils/UNSAFE_interpolations/flexitem","./flexitem-1405ebe5","./UNSAFE_Selector","./UNSAFE_Icon","./Icon-7291b5d0","./hooks/UNSAFE_useTooltip","./hooks/UNSAFE_useHover","./hooks/UNSAFE_useToggle","./hooks/UNSAFE_useFocus","./hooks/UNSAFE_useTouch","./hooks/UNSAFE_useAnimation","./useAnimation-19a01c68","./index-66b69d43","./hooks/UNSAFE_useUser","./UNSAFE_Environment","./utils/PRIVATE_floatingUtils","./utils/PRIVATE_refUtils","./hooks/UNSAFE_useOutsideClick","./hooks/UNSAFE_useTheme","./InlineHelpSource-64823c0a","./UNSAFE_ComponentMessage","./ComponentMessage-998dad2a","./PRIVATE_Message","./utils/PRIVATE_timer","./MessageCloseButton-80019999","./UNSAFE_Button","./Button-6236e6b9","./UNSAFE_BaseButton","./BaseButton-6b15cf96","./hooks/UNSAFE_useActive","./MessageDetail-520bf217","./MessageFormattingUtils-522eafdf","./utils/UNSAFE_getLocale","./utils/UNSAFE_stringUtils","./stringUtils-b9c2724c","./Message.types-7cf67e6b","./MessageStartIcon-f0caac42","./MessageSummary-1fe58d25","./MessageTimestamp-0324ebac","./MessageUtils-83d741c6","./utils/UNSAFE_soundUtils","./MessagesManager-92a31926","./PRIVATE_TransitionGroup","./hooks/UNSAFE_useMessagesContext","./UNSAFE_HiddenAccessible","./HiddenAccessible-cc2e72c9","./ComponentMessageContainer-329000c3","./hooks/UNSAFE_useFormContext"],function(e,t,s,n,o,i,a,l,r,c,u,d,A,f,h,E,g,S,_,b,F,p,m,v,T,U,C,k,x,N,w,y,D,I,R,P,j,L,M,O,K,H,V,B,G,z,W,q,Y,$,J,Q,X,Z,ee,te,se,ne,oe,ie,ae,le,re,ce,ue,de,Ae,fe,he,Ee,ge,Se,_e,be,Fe,pe,me,ve,Te,Ue,Ce,ke,xe,Ne,we,ye,De,Ie,Re,Pe,je,Le,Me,Oe,Ke,He,Ve,Be,Ge,ze,We,qe,Ye,$e,Je,Qe,Xe,Ze,et){"use strict";function tt(e,t){var s;if("string"!=typeof t)return t(e);if(null===(s=e.data)||void 0===s?void 0:s.hasOwnProperty(t)){const s=e.data[t];return String(s)}r.Logger.error("SelectMultiple: itemText specifies field that does not exist: "+t)}const st=()=>{};const nt=t.jsx(d.SkeletonContainer,Object.assign({minimumCount:3},{children:()=>t.jsx(c.Flex,Object.assign({height:"12x",align:"center"},{children:t.jsx(A.Skeleton,{height:"4x"})}))})),ot={TAB:"Tab",ENTER:"Enter",ESC:"Escape",SPACE:"Space",LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown",SHIFT_LEFT:"ShiftLeft",SHIFT_RIGHT:"ShiftRight",CTRL_LEFT:"ControlLeft",CTRL_RIGHT:"ControlRight",ALT_LEFT:"AltLeft",ALT_RIGHT:"AltRight",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",HOME:"Home",END:"End",BACKSPACE:"Backspace",DELETE:"Delete"},it=e=>{switch(e.code){case ot.SHIFT_LEFT:case ot.SHIFT_RIGHT:case ot.CTRL_LEFT:case ot.CTRL_RIGHT:case ot.ALT_LEFT:case ot.ALT_RIGHT:return!0;default:return e.metaKey||e.ctrlKey}},at=e=>/\bF([1-9]|1[0-2])\b/i.test(e.code),lt=e=>it(e)||at(e),rt=e=>0===e.button&&!e.ctrlKey,ct=e=>{e.currentTarget===e.target&&e.preventDefault()},ut=e=>{var t;return null!==(t=null==e?void 0:e.ownerDocument)&&void 0!==t?t:document},dt=({isDisabled:e=!1,ref:t,handler:n})=>{s.useEffect(()=>{const s=E.coerceArray(t);if(!n||e||s.length>0&&s.findIndex(e=>null===e.current)>-1)return;const o=e=>{((e,t)=>{const s=e.target;if(s&&!ut(s).contains(s))return!1;return t.every(e=>{var t;return!(null===(t=e.current)||void 0===t?void 0:t.contains(s))})})(e,s)&&(null==n||n(e))},i=s[0],a=ut(i.current);return a?(a.addEventListener("mousedown",o,!0),()=>{a.removeEventListener("mousedown",o,!0)}):void 0},[e,n,t])},At="nsqgqa",ft="bottom-start";const ht="xk8neb",Et="_1wwkc5c",gt="buiwch",St="bgzzum",_t="_1w93tr7",bt=()=>{};const Ft="x8qj2g",pt="_10hk573",mt="_58kovu",vt="_3hzw5q";e.DefaultList=function({accessibleSummary:e,currentItemVariant:n,currentKey:o,data:i,itemText:a,onCurrentKeyChange:l,onItemAction:r,onLoadRange:A=st,onSelectionChange:f,searchText:h,selectedKeys:E,selectionMode:g}){const S=s.useCallback(e=>{const s=tt({data:e.data,key:e.metadata.key,metadata:e.metadata},a);return t.jsxs(c.Flex,{children:[e.selector&&e.selector(),t.jsx("div",Object.assign({class:"kr5to0"},{children:t.jsx(u.HighlightText,Object.assign({matchText:h},{children:s}))}))]})},[a,h]),_=s.useMemo(()=>({all:!1,keys:null!=E?E:new Set}),[E]);return t.jsx(d.List,Object.assign({accessibleSummary:e,allowTabbableMode:!1,currentItemVariant:n,currentKey:o,data:null!=i?i:null,loadingIndicator:nt,onCurrentKeyChange:l,onItemAction:r,onLoadRange:A,onSelectionChange:f,role:"listbox",selectedKeys:_,selectionMode:g},{children:e=>S(e)}))},e.Dropdown=function({anchorRef:e,children:n,dropdownRef:o,id:i,isOpen:a,onAutoDismiss:l,onPosition:r}){var c;const[u,d]=s.useState(ft);s.useEffect(()=>{a||d(ft)},[a,d]);const A=s.useCallback(e=>{d(e.placement),null==r||r(e)},[r,d]),f=s.useCallback(e=>{null==l||l(e)},[l]),E=s.useCallback(e=>{if(!e.defaultPrevented&&!lt(e))switch(e.code){case ot.ESC:case ot.TAB:f(e)}},[f]);dt({isDisabled:!a,ref:[e,o],handler:f});const S={minWidth:`${null===(c=e.current)||void 0===c?void 0:c.offsetWidth}px`};return a?t.jsx(h.Layer,Object.assign({logicalParentRef:e},{children:t.jsx(g.Floating,Object.assign({anchorRef:e,sizeOptions:{isMaxHeightAdjusted:!0,maxHeightCeiling:400},ref:o,placement:u,offsetValue:{mainAxis:4,crossAxis:0},onPosition:A},{children:t.jsx("div",Object.assign({class:At,id:i,style:S,onKeyDown:E,onMouseDown:ct},{children:n}))}))})):null},e.DropdownArrow=function({isDisabled:e=!1,onClick:n,size:o="md"}){const i=s.useCallback(e=>{e.preventDefault()},[]),{pressProps:a}=S.usePress(null!=n?n:bt,{isDisabled:e}),l=F.classNames([ht,"sm"===o?gt:Et,e?_t:St]);return t.jsx("span",Object.assign({"aria-hidden":"true",class:l,tabIndex:-1,onMouseDown:i},a,{children:t.jsx(p.SvgIcoCaretDown,{})}))},e.DropdownList=function({children:e,hasBottomGap:s=!0,isLoading:n=!1}){const o=F.classNames([Ft,pt,s&&mt,n&&vt]);return t.jsx("div",Object.assign({class:o,onMouseDown:ct},{children:e}))},e.DropdownUserAssistance=function(e){const n=s.useCallback(e=>{var t;"A"!==(null===(t=e.target)||void 0===t?void 0:t.tagName)&&e.preventDefault()},[]);return t.jsx(m.FormFieldContext.Provider,Object.assign({value:{isFocused:!0}},{children:t.jsx("div",Object.assign({class:"_1iwsitd",onMouseDown:n},{children:t.jsx(v.InlineUserAssistance,Object.assign({},e))}))}))},e.EmptyResults=function(){const e=T.useTranslationBundle("@oracle/oraclejet-preact");return t.jsx("div",Object.assign({class:"ullep4",onMouseDown:ct},{children:e.select_noMatchesFound()}))},e.KEYS=ot,e.isBeforeDataFetch=function(e){return"atLeast"===e.sizePrecision&&0===e.totalSize},e.isControlKey=it,e.isControlOrFunctionKey=lt,e.isFunctionKey=at,e.isMobile=function(){const e=C.getClientHints().deviceType;return"phone"===e||"tablet"===e},e.isSimpleClick=rt,e.preventDefaultForCurrentTarget=ct,e.renderItemText=tt,e.useSelectCommon=function({data:e,inputRef:t,isFocused:n,onFilter:o}){const i=s.useRef(null),a=s.useRef(null),[l,r]=s.useState(!1),[c,u]=s.useState(!1),[d,A]=s.useState({rowKey:void 0}),[f,h]=s.useState(),[E,g]=s.useState(!1),[S,_]=s.useState(),[b,F]=s.useState(),p=s.useCallback(e=>{!e.defaultPrevented&&rt(e)&&(l||r(!0),setTimeout(function(){var e;null===(e=t.current)||void 0===e||e.focus()},0))},[l]),m=s.useCallback(()=>{var e;r(!l),null===(e=t.current)||void 0===e||e.focus()},[l]),v=s.useCallback(e=>{var s,n,o;if(l)switch(r(!1),null==e?void 0:e.type){case"keydown":if(e.code===ot.ESC)null===(s=t.current)||void 0===s||s.focus();break;case"mousedown":(null===(n=a.current)||void 0===n?void 0:n.contains(document.activeElement))&&(null===(o=t.current)||void 0===o||o.focus())}},[l]),T=s.useCallback(e=>{u(e.placement.startsWith("top"))},[]),U=s.useCallback(t=>{var s,n,o,i;if(l){const t=null===(s=a.current)||void 0===s?void 0:s.querySelector('[tabindex="0"]');null==t||t.focus(),void 0!==e&&void 0===d.rowKey&&A({rowKey:null===(i=null===(o=null===(n=null==e?void 0:e.data)||void 0===n?void 0:n[0])||void 0===o?void 0:o.metadata)||void 0===i?void 0:i.key})}else r(!0);t.preventDefault()},[d,e,l]),C=s.useCallback(e=>{if(!lt(e))switch(e.code){case ot.PAGE_UP:case ot.PAGE_DOWN:return void e.preventDefault();case ot.UP:case ot.DOWN:e.preventDefault();break;case ot.ESC:l&&(r(!1),e.preventDefault(),e.stopPropagation())}},[l]),k=s.useCallback(e=>{if(!lt(e))switch(e.code){case ot.UP:case ot.DOWN:U(e)}},[U]),x=s.useCallback(e=>{var t;l||r(!0),g(!0),_(e.value);const s=null===(t=e.value)||void 0===t?void 0:t.trim();F(s),null==o||o({searchText:s})},[l,o]),N=s.useCallback(e=>{A({rowKey:e.value})},[]),w=s.useCallback(()=>{g(!1),_(""),F("")},[]);return s.useEffect(()=>{l||n||!E||w()},[l,n,E]),s.useEffect(()=>{l&&!E&&(null==o||o({searchText:void 0}))},[l,E,o]),s.useEffect(()=>{l||u(!1)},[l]),{currentRow:d,dropdownRef:a,handleDropdownArrowClick:m,handleDropdownAutoDismiss:v,handleDropdownPosition:T,handleInput:x,handleMainFieldKeyDown:C,handleMainFieldKeyUp:k,handleUpDownArrowKeys:U,isDropdownAbove:c,isDropdownOpen:l,isFocused:n||l,isUserFiltering:E,mainFieldRef:i,onCurrentKeyChange:N,onMouseDown:p,searchText:b,selectedKeys:f,setCurrentRow:A,setDropdownOpen:r,setSelectedKeys:h,stopFiltering:w,userInput:S}},Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=PRIVATE_SelectCommon.js.map

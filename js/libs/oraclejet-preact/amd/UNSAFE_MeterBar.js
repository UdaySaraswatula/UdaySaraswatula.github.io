define(["exports","./tslib.es6-24bf3861","preact/jsx-runtime","./utils/UNSAFE_size","css!./UNSAFE_MeterBar.css","./utils/UNSAFE_classNames","./utils/UNSAFE_mergeProps","preact/hooks","./hooks/UNSAFE_useUser","./hooks/PRIVATE_useDvtMeterEvents","./utils/PRIVATE_meterUtils","./PRIVATE_Meter","./utils/UNSAFE_dvtCommonUtils","./classNames-f11010a7","./hooks/UNSAFE_useTabbableMode","./UNSAFE_Environment","preact","./UNSAFE_Layer","preact/compat","./hooks/UNSAFE_useTooltip","./hooks/UNSAFE_useId","./UNSAFE_Floating","./Floating-1e70bca1","./index-66b69d43","./utils/PRIVATE_floatingUtils","./utils/PRIVATE_refUtils","./hooks/UNSAFE_useOutsideClick","./utils/UNSAFE_arrayUtils","./hooks/UNSAFE_useHover","./hooks/UNSAFE_useToggle","./hooks/UNSAFE_useFocus","./hooks/UNSAFE_useTouch","./hooks/UNSAFE_useAnimation","./useAnimation-19a01c68"],function(t,e,o,r,i,a,s,n,l,c,d,h,u,m,g,_,v,p,b,f,x,S,k,z,E,T,A,M,U,F,N,j,C,B){"use strict";function y(t){if(!t)return{width:0,height:0};const e=t.getBoundingClientRect();return{width:e.width,height:e.height}}function R({orientation:t,percentage:e,color:r,position:i}){const a="horizontal"===t,{direction:s}=l.useUser(),n="rtl"===s,c="start"===i;return o.jsx("div",{class:m.classNames([I.base,I[`${t}Border`],I[`${t}`],c?a?I.horiontalStart:I["verticalStart"+(n?"Rtl":"Ltr")]:""]),style:{left:a&&!n?e:void 0,right:a&&n?e:void 0,bottom:a?void 0:e,backgroundColor:u.getDvtThresholdColor(r)}})}const I={base:"qtqkx1",verticalBorder:"zgi3jz",horizontalBorder:"_127bib9",vertical:"_17tresi",horizontal:"v5sdzt",horiontalStart:"deqfnw",verticalStartLtr:"_1i2mnn8",verticalStartRtl:"x7xsr3"};function L(t){var{color:r,length:i,orientation:a}=t,s=e.__rest(t,["color","length","orientation"]);const{direction:n}=l.useUser(),c="horizontal"===a,d="rtl"===n;return o.jsx("div",{class:m.classNames([w.base,c?w["horizontalBarTrackSection"+(d?"Rtl":"Ltr")]:w.verticalBarTrackSection,s.class]),style:{width:c?i:"100%",height:c?"100%":i,backgroundColor:u.getDvtThresholdColor(r)}})}const w={base:"_16armr3",verticalBarTrackSection:"_1z0ps6i",horizontalBarTrackSectionRtl:"_21e4tk",horizontalBarTrackSectionLtr:"n0iq85"};const $=function(t,e,o){const r=[];return t.start&&r.push(q[`${e}Margin${o?"Top":"Start"}`]),t.end&&r.push(q[`${e}Margin${o?"Bottom":"End"}`]),r},P={base:"_13omcok",horizontal:"_11xywx0",vertical:"_156khvg",interactive:"o75ou7"},V={base:"cl38v3",vertical:"_356rku",horizontal:"xxtiqi"},q={base:"_1jtuf76",vertical:"hsomda",smHorizontal:"_1v2o9ld",smVertical:"hybk64",mdHorizontal:"tgqrjr",mdVertical:"_1cof88b",lgHorizontal:"_1s61om3",lgVertical:"_1mlid5r",smMarginTop:"fh37nf",mdMarginTop:"_1efv7v",lgMarginTop:"_18z9r8x",smMarginStart:"_12ft60j",mdMarginStart:"_18wh74d",lgMarginStart:"_11i1lxw",smMarginEnd:"j1bpqm",mdMarginEnd:"_1bdy5gk",lgMarginEnd:"_18sj8uj",smMarginBottom:"v4yk0l",mdMarginBottom:"_1l1oe6",lgMarginBottom:"_3zcik6"},D={horizontalFirst:"nz01gi",horizontalLast:"i0j9v9",verticalFirst:"_2x9ou8",verticalLast:"_18gajrp",roundedCorners:"_18dakeh"};t.MeterBar=function(t){var i,a,{max:u=100,min:_=0,value:v=0,step:p=1,length:b="100%",size:f="lg",orientation:x="horizontal",isTrackRendered:S=!0,thresholdDisplay:k="all",indicatorSize:z=1}=t,E=e.__rest(t,["max","min","value","step","length","size","orientation","isTrackRendered","thresholdDisplay","indicatorSize"]);d.validateRange(_,u,v,p);const T="horizontal"===x,A=n.useRef(null),M=n.useRef(y(null)),{direction:U}=l.useUser(),F="rtl"===U;n.useEffect(()=>{(E.onCommit||E.onInput)&&(M.current=y(A.current))},[f,b,x,E.onCommit,E.onInput]);const N=c.usePointerEvents(v,t=>{if(t.target==A.current)return function(t,e,o,r,i,a,s){const n=e.current;if(!n||0===n.width)return;let l;if("horizontal"===a){const e=t.offsetX;l=o+(r-o)*(s?n.width-e:e)/n.width}else l=o+(r-o)*(n.height-t.offsetY)/n.height;return l=Math.round(l/i)*i,Math.max(o,Math.min(r,l))}(t,M,_,u,p,x,F)},A,E.onCommit,E.onInput),j=c.useKeyboardEvents(v,_,u,p,E.onCommit,E.onInput),{datatipContent:C,datatipProps:B}=c.useMeterDatatip(v,E.datatip,E.ariaDescribedBy),I=d.getMeterAriaProps(v,_,u,`${v}`,E.accessibleLabel,E.ariaLabelledBy,E.thresholds),w=s.mergeProps(N,j,B,I),H=Math.max(0,Math.min(1,z)),O=100*(v-_)/(u-_)+"%",K=100*H+"%",{trackColor:X,indicatorColor:Y}=d.getTrackAndIndicatorColor(v,k,E.trackColor,E.indicatorColor,E.thresholds),G=function(t){let e={start:!1,end:!1};return t&&(e=t.reduce((t,e)=>(t.start=t.start||"start"===e.position,t.end=t.end||"end"===e.position||null==e.position,t),e)),e}(E.referenceLines),J=E.onCommit||E.onInput,{isTabbable:Q}=g.useTabbableMode();return o.jsxs(o.Fragment,{children:[o.jsx("div",Object.assign({tabIndex:Q?0:-1,role:"slider"},w,{style:{width:T?r.sizeToCSS(b):void 0,height:T?void 0:r.sizeToCSS(b)},class:m.classNames([P.base,P[x]])},{children:o.jsxs(h.BarTrack,Object.assign({ref:A,orientation:x,color:!S||"all"===k&&E.thresholds?"transparent":X,class:m.classNames([q.base,J?P.interactive:"",T?"":q.vertical,T?q[`${f}Horizontal`]:q[`${f}Vertical`],...$(G,f,T)])},{children:["all"===k&&(null===(i=E.thresholds)||void 0===i?void 0:i.filter(t=>t.max>_&&t.max<=u).sort((t,e)=>t.max-e.max).map((t,e,r)=>{const i=0===e?t.max-_:t.max-r[e-1].max;let a=0===e?D[`${x}First`]:"";return t.max===u&&(a=0===e?D.roundedCorners:D[`${x}Last`]),o.jsxs(o.Fragment,{children:[o.jsx(L,{class:a,orientation:x,length:100*i/(u-_)+"%",color:t.color}),S&&e===r.length-1&&t.max<u?o.jsx(L,{class:D[`${x}Last`],color:X,orientation:x,length:100*(u-r[e].max)/(u-_)+"%"}):""]})})),o.jsx(h.BarValue,{length:O,size:K,orientation:x,class:m.classNames([V.base,V[x]]),color:Y}),null===(a=E.referenceLines)||void 0===a?void 0:a.map(t=>o.jsx(R,{color:t.color,orientation:x,percentage:100*(t.value-_)/(u-_)+"%",position:t.position}))]}))})),C]})},Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=UNSAFE_MeterBar.js.map
